<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Markdown Viewer</title>
  <link id="cyberpunk-style" rel="stylesheet" href="styles/cyberpunk.css" disabled>
  <link id="modern-style" rel="stylesheet" href="styles/modern.css" disabled>
  <link id="minimalist-style" rel="stylesheet" href="styles/minimalist.css" >
  <link id="retro-style" rel="stylesheet" href="styles/retro.css" disabled>
  <link id="neon-style" rel="stylesheet" href="styles/neon.css" disabled>
  <link id="old_book_style_resume" rel="stylesheet" href="styles/old_book_style_resume.css" disabled>
  <script src="https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js"></script>

</head>
<body>

    <div class="container">

        <!-- add different style -->
        <div id="style-switcher">
            <h3>Choose Style:</h3>
            <select id="style-select">
                <option value="modern">Modern</option>
                <option value="cyberpunk">Cyberpunk</option>
                <option value="minimalist">Minimalist</option>
                <option value="retro">Retro</option>
                <option value="neon">Neon</option>
                <option value="old_book">Old_book</option>
            </select>
        </div>


        <div id="content"></div>

    </div>


  <script>
    function getQueryVariable(variable) {
      var query = window.location.search.substring(1);
      var vars = query.split("&");
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] === variable) {
          return pair[1];
        }
      }
      return null;
    }

    // 获取 URL 中的 'file' 参数值
    var file = getQueryVariable('file');
    
    if (file) {
      // 动态加载指定的 Markdown 文件
      fetch(file)
        .then(response => response.text())
        .then(text => {
          var converter = new showdown.Converter();
          document.getElementById('content').innerHTML = converter.makeHtml(text);
        })
        .catch(error => {
          document.getElementById('content').innerHTML = "<p>Error loading file.</p>";
        });
    } else {
      document.getElementById('content').innerHTML = "<p>No file specified.</p>";
    }
  </script>


<script src="styles/md.js"></script>


</body>
</html>
