# AI 文章发布指南

本文档用于指导 AI 助手如何处理新文章的发布。当用户完成新文章编写后，AI 应该自动完成以下任务。

## 任务流程

1. **检查新文章**
   - 对比 `_posts` 目录下的 `.md` 文件和 `metadata.json` 中的记录
   - 找出未在 metadata.json 中记录的新文章

2. **分析文章内容**
   - 从文章中提取标题（第一个 # 标题）
   - 从首段提取文章描述（限制在150字以内）
   - 根据文章内容智能生成标签（3-5个）
   - 根据内容特征判断文章分类

3. **更新 metadata.json**
   为每篇新文章在 metadata.json 中添加记录：
   ```json
   {
       "posts": {
           "YYYY-MM-DD-article-name.md": {
               "title": "从文章提取的标题",
               "date": "从文件名提取的日期",
               "categories": ["根据内容判断的分类"],
               "description": "从首段提取的描述",
               "tags": ["相关标签"]
           }
       }
   }
   ```

4. **提交更改**
   - 提交新文章文件
   - 提交更新后的 metadata.json
   - 使用 "发布新文章：[文章标题]" 作为提交信息

## 分类判断规则

根据文章内容特征判断分类：
- 包含代码块 (```) → 技术文档
- 包含步骤说明、教程字样 → 教程
- 其他技术相关内容 → 技术笔记
- 个人简历相关 → 简历

## 标签生成规则

从以下内容中提取标签：
- 文章中的技术名词
- 二级标题关键词
- 编程语言名称
- 框架或工具名称
- 核心概念词

## 错误处理

如果遇到以下情况，AI应该提醒用户：
- 文件名格式不符合 YYYY-MM-DD-标题.md
- 文章缺少一级标题
- 文章内容为空
- Git 操作失败

## 示例

输入：新文章 `2024-12-06-docker-guide.md`
```markdown
# Docker 入门指南

本文介绍 Docker 的基础概念和使用方法。

## 安装 Docker
...

## 基本命令
...
```

期望输出：更新 metadata.json
```json
{
    "2024-12-06-docker-guide.md": {
        "title": "Docker 入门指南",
        "date": "2024-12-06",
        "categories": ["教程"],
        "description": "本文介绍 Docker 的基础概念和使用方法。",
        "tags": ["Docker", "容器化", "教程", "入门"]
    }
}
```

注意：AI 应保持 metadata.json 中现有的其他文章记录不变，只添加新文章的信息。
