
class SocialSharing extends HTMLElement {
    style() {
        return `
            .zlibicon-envelope {
                font-size: 0.7em;
            }
            .z-share-button{
                cursor: pointer;
                transition: transform var(--transition);
            }
            .z-share-button:hover{
                transition: transform var(--transition-hover);
                transform: scale(1.05);
            }

            .z-share-button {
                width: 1.4em;
                height: 1.4em;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: inherit;
                border-radius: 2px;
                color: #fff;
            }

            .share-intent-facebook {
                background: #365899
            }

            .share-intent-twitter {
                background: #1da1f2
            }

            .share-intent-pinterest {
                background: #cc2127
            }

            .share-intent-linkedin {
                background: #0976b4
            }

            .share-intent-whats-app {
                background: #25d366
            }

            .share-intent-messenger {
                background: #0084ff
            }

            .share-intent-telegram {
                background: #179cde
            }

            .share-intent-send-email,
            .share-intent-envelope {
                background: #866
            }

            .share-intent-copy-link,
            .share-intent-chains {
                background: #3df
            }
            .title{
                font-size: 14px;
                margin-right: 6px;
                display: inline-block;
                position: relative;
                top: 2px;
            }
            @media (max-width: 600px){
                .title{
                    display: none;
                }
            }
        `
    }
    supported_actions() {
        return [
            'facebook',
            'twitter',
            'whatsapp',
            'telegram',
            'linkedin',
            'envelope',
            'chains'
        ]
    }
    connectedCallback() {
        if (this.shadowRoot) return
        const shadow = this.attachShadow({ mode: 'open' });
        let content = '<slot class="title"></slot>'

        for (let item of this.supported_actions()) {
            content += `<div onclick="ZLibrary.share('${item}', ${this.hasAttribute('domain') ? `'` + this.getAttribute('domain') + `'` : null})" class="z-share-button share-intent-${item}"><i class="zlibicon-${item == 'envelope' ? '' : 'soc-'}${item}"></i></div>`
        }

        shadow.innerHTML = `<style>${this.style()}</style><link rel="stylesheet" href="/components/style.css?${ZLibrary._.version}"><link rel="stylesheet" href="/resources/fonts/zlibicons.css?${ZLibrary._.version}">` + content
        this.classList.add('ready')
    }
}

customElements.define('z-social-sharing', SocialSharing)